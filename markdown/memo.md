# memo

- `event.type == QUIT` の記述しなければ閉じることができないので何かに使えそう？
  - 単純に閉じれないことの怖さが演出に使えるかも？
  - 逆に閉じる、閉じようとすることでゲームが進むとか
- ~~map を複数用意する~~
  - ~~親クラスか interface を用意したいところだけど…~~
  - ~~コピペしちゃえばいいかとも思うが~~
  - ~~ファイル、クラス分けどうするか~~
    - ~~各マップごとにクラス分ける、のはさすがにまずい~~
    - ~~フィールド > マップ の階層として、フィールドでクラス分けがよさそう~~
  - map 遷移の記述
    - map 同士の位置関係の記述どうするか
      - 各クラスで上下左右に移動先 map 保有はきつい
      - txt ファイルで map の位置関係を記述、それを読み込んだ位置関係 list (要素: `map`(list) or `None`) をフィールドクラスがもつ、とか
        - で、フィールドのメソッド内で map 切り替え
        - うっとうしくなければシーンチェンジ挟みたい
  - map データの記述
    - ~~さすがに Python 内のリストで記述はやばいので、txt ファイルか何かに記述して、その読み取り関数を用意するのがよかろう~~
      - できそう！
- 全体のファイル分けどうするか
  - メインには state の切り替えだけにしたいが state の設計次第

## Python

### class

#### `__new__()` と `__init__()`

コンストラクタとして、`__new__()`, `__init__()` の順で呼ばれ、前者はインスタンスオブジェクトを生成、後者はそれを初期化している。後者の返り値が `None` であるのはそのため。

なお、全てのクラスは `object` のサブクラスらしい。

### Docstring

Docstring は markdown で記述できるみたい。(びっくり)

## 方針

- 描画するもののうち、動かないもの(キャラを含まない？)は1枚のマップの画像とする
  - 当たり判定、アニメーション等が必要なオブジェクト等のみ、チップを当てはめていく方式
    - 当たり判定は主人公キャラが参照できるようにしないといけない
    - オブジェクトは個々にフラグが必要なのでこれはシングルトンにはしない
- map の上下左右の単純な遷移だけじゃなく、map 上の特定のポイントから遷移(ワープ)するのも考える

- 変更事項
  - `MapChipEnum` -> `ObjectEnum` / `ObjectTypeEnum` (has `FLAGGED`, `COLLISION`, `WARP_POINT`)
  - `MapChips`(copied) -> `FlaggedObjects` これはオブジェクトの画像を保持 シングルトン
  - __ -> `FlaggedObject` これは個々のオブジェクト、
  - `Map` -> `Map`(個々のマップ: `flaggedObject` の配置 & 1枚のマップの画像の描画 & 当たり判定(レイヤー)を保持)
    - 当たり判定にワープポイントを含みたい
      - __ -> `WarpPointEnum`
